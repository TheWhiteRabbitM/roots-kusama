<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ROOTS</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Cinzel:wght@400;600&family=IM+Fell+English:ital@0;1&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--soil:#1C1008;--terra:#9B4A1F;--amber:#C9812A;--wheat:#E8C97A;--parch:#F4EDD8;--stone:#8B7355}
html,body{width:100%;height:100%;background:var(--soil);font-family:'Cormorant Garamond',serif;color:var(--parch);overflow:hidden}
#root-canvas{position:fixed;inset:0;z-index:0;display:block;width:100%;height:100%}
body::before{content:'';position:fixed;inset:0;z-index:1;pointer-events:none;
  background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.07'/%3E%3C/svg%3E");opacity:0.3}
.wrap{position:relative;z-index:2;width:100%;height:100%;display:grid;grid-template-columns:1fr 1fr;align-items:center;padding:clamp(32px,6vw,80px) clamp(28px,7vw,90px);gap:clamp(16px,4vw,60px)}
@media(max-width:680px){.wrap{grid-template-columns:1fr;padding-bottom:clamp(80px,12vh,120px)}}
.left{display:flex;flex-direction:column;gap:clamp(12px,2vh,22px)}
.eyebrow{font-family:'Cinzel',serif;font-size:clamp(7px,1.1vw,10px);letter-spacing:clamp(3px,0.6vw,5px);color:var(--amber);text-transform:uppercase;opacity:0;animation:fadeUp .7s .1s forwards}
.title-block{opacity:0;animation:fadeUp .7s .3s forwards}
.from-line,.to-line{font-family:'IM Fell English',serif;font-style:italic;font-size:clamp(13px,2.2vw,19px);color:var(--stone);line-height:1.3}
.main-title{font-family:'Cinzel',serif;font-size:clamp(64px,10vw,118px);font-weight:600;color:var(--wheat);line-height:.86;letter-spacing:-2px;text-shadow:0 2px 40px rgba(201,129,42,.18)}
.tagline{font-size:clamp(13px,1.8vw,17px);font-weight:300;color:rgba(244,237,216,.7);line-height:1.75;max-width:440px;opacity:0;animation:fadeUp .7s .5s forwards}
.tagline em{color:var(--amber);font-style:italic}
.meta{display:grid;grid-template-columns:repeat(2,1fr);gap:clamp(6px,1vh,12px) clamp(18px,3vw,40px);max-width:420px;opacity:0;animation:fadeUp .7s .65s forwards}
@media(max-width:420px){.meta{grid-template-columns:1fr}}
.meta-item{display:flex;flex-direction:column}
.mk{font-family:'Cinzel',serif;font-size:clamp(7px,1vw,9px);letter-spacing:2.5px;color:var(--amber);text-transform:uppercase}
.mv{font-size:clamp(11px,1.5vw,13px);color:rgba(244,237,216,.7)}
.mv strong{color:var(--parch);font-weight:600}
.cta{display:inline-flex;align-items:center;gap:12px;font-family:'Cinzel',serif;font-size:clamp(8px,1.2vw,10px);letter-spacing:3px;text-transform:uppercase;color:var(--wheat);text-decoration:none;border:1px solid rgba(201,129,42,.4);padding:clamp(10px,1.6vw,15px) clamp(20px,3.2vw,36px);transition:all .3s;position:relative;overflow:hidden;width:fit-content;opacity:0;animation:fadeUp .7s .8s forwards}
.cta::before{content:'';position:absolute;inset:0;background:rgba(201,129,42,.09);transform:translateX(-100%);transition:transform .35s}
.cta:hover::before,.cta:active::before{transform:translateX(0)}
.cta:hover{border-color:var(--amber)}
.arrow{font-size:16px;transition:transform .3s}
.cta:hover .arrow{transform:translateX(5px)}
.right{display:flex;align-items:center;justify-content:center;position:relative;min-height:300px;opacity:0;animation:fadeIn 1.4s .4s forwards;pointer-events:none}
@media(max-width:680px){.right{display:none}}
.tree-ring{position:absolute;width:clamp(180px,22vw,310px);height:clamp(180px,22vw,310px);border-radius:50%;border:1px solid rgba(201,129,42,.08);box-shadow:0 0 80px rgba(201,129,42,.05);animation:pulse 5s ease-in-out infinite}
.tree-ring::before{content:'';position:absolute;inset:18px;border-radius:50%;border:1px solid rgba(201,129,42,.05)}
.hint{position:absolute;bottom:clamp(-28px,-3vw,-18px);left:50%;transform:translateX(-50%);font-family:'Cinzel',serif;font-size:7px;letter-spacing:2.5px;color:rgba(201,129,42,.28);text-transform:uppercase;white-space:nowrap;animation:fadeIn 3s 2.5s both;pointer-events:none}
.bottom-bar{position:fixed;bottom:0;left:0;right:0;padding:clamp(9px,1.4vh,14px) clamp(28px,7vw,90px);display:flex;align-items:center;justify-content:space-between;border-top:1px solid rgba(201,129,42,.08);z-index:10;opacity:0;animation:fadeIn .9s .95s forwards}
.bq{font-family:'IM Fell English',serif;font-style:italic;font-size:clamp(10px,1.3vw,12px);color:rgba(201,129,42,.4)}
.bn{font-family:'Cinzel',serif;font-size:clamp(7px,1vw,9px);letter-spacing:2.5px;color:rgba(201,129,42,.3);text-transform:uppercase}
@media(max-width:500px){.bq{display:none}}
@keyframes fadeUp{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.6}}
</style>
</head>
<body>
<canvas id="root-canvas"></canvas>
<div class="wrap">
  <div class="left">
    <div class="eyebrow">Art &amp; Social Experiments  Kusama  2026</div>
    <div class="title-block">
      <div class="from-line">From Proof of Family</div>
      <div class="main-title">ROOTS</div>
      <div class="to-line">to Proof of Personhood</div>
    </div>
    <p class="tagline">A Southern Italian village has verified human identity for four centuries through oral tradition, family nicknames, and the memory of its elders. <em>We are putting it on-chain. And letting it grow.</em></p>
    <div class="meta">
      <div class="meta-item"><span class="mk">Network</span><span class="mv"><strong>Kusama</strong></span></div>
      <div class="meta-item"><span class="mk">Budget</span><span class="mv"><strong>62,239 DOT</strong> gross  paid in DOT</span></div>
      <div class="meta-item"><span class="mk">Tax</span><span class="mv">Crypto tax 33% included</span></div>
      <div class="meta-item"><span class="mk">Duration</span><span class="mv">3 months  5 phases</span></div>
      <div class="meta-item"><span class="mk">Token</span><span class="mv"><strong>ROOTS</strong>  non-transferable</span></div>
    </div>
    <a class="cta" href="presentation.html">View Presentation <span class="arrow">&rarr;</span></a>
  </div>
  <div class="right">
    <div class="tree-ring"></div>
    <span class="hint">move mouse  roots grow</span>
  </div>
</div>
<div class="bottom-bar">
  <span class="bq">&ldquo;You cannot transfer your roots.&rdquo;</span>
  <span class="bn">KSM Art &amp; Social Experiments Initiative  Kusama  2026</span>
</div>
<script>
(function(){
  var canvas=document.getElementById('root-canvas');
  var renderer=new THREE.WebGLRenderer({canvas:canvas,alpha:true,antialias:true});
  renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));
  renderer.setClearColor(0x000000,0);
  var scene=new THREE.Scene();
  var W=window.innerWidth,H=window.innerHeight;
  var camera=new THREE.OrthographicCamera(-W/2,W/2,H/2,-H/2,0.1,500);
  camera.position.z=100;

  function resize(){
    W=window.innerWidth;H=window.innerHeight;
    renderer.setSize(W,H);
    camera.left=-W/2;camera.right=W/2;camera.top=H/2;camera.bottom=-H/2;
    camera.updateProjectionMatrix();
    buildTree();positionTree();
  }
  renderer.setSize(W,H);
  window.addEventListener('resize',resize);

  var CA=new THREE.Color('#C9812A');
  var CT=new THREE.Color('#9B4A1F');
  var CW=new THREE.Color('#E8C97A');
  var CS=new THREE.Color('#6B5535');

  function rngMk(seed){var s=seed>>>0;return function(){s=(Math.imul(1664525,s)+1013904223)>>>0;return s/4294967296;};}
  var rng=rngMk(42);

  var treeGroup=new THREE.Group();
  scene.add(treeGroup);
  var branchLines=[];

  function lerpc(a,b,t){return new THREE.Color().lerpColors(a,b,t);}

  function addBranch(ox,oy,dx,dy,len,depth,maxD,w){
    if(depth>maxD||len<4)return;
    // Build curved path
    var pts=[new THREE.Vector3(ox,oy,0)];
    var cx=ox,cy=oy;
    var cdx=dx,cdy=dy;
    var nSeg=5;
    for(var i=0;i<nSeg;i++){
      var jx=(rng()-.5)*len*(0.15+depth*0.05);
      var jy=(rng()-.5)*len*0.08;
      cx+=cdx*(len/nSeg)+jx;
      cy+=cdy*(len/nSeg)+jy;
      pts.push(new THREE.Vector3(cx,cy,0));
      if(depth<2){cdx+=(rng()-.5)*0.06;cdy+=0.02;}
      else{cdx+=(rng()-.5)*0.22;cdy+=(rng()-.5)*0.1-0.03;}
      var nl=Math.sqrt(cdx*cdx+cdy*cdy);cdx/=nl;cdy/=nl;
    }
    var ex=cx,ey=cy;
    var t=depth/maxD;
    var col=lerpc(lerpc(CT,CA,t*0.6),CW,t*0.35);
    var op=Math.max(0.06,w);
    var passes=depth<2?4:depth<4?2:1;
    for(var p=0;p<passes;p++){
      var off=passes===1?0:(p-(passes-1)/2)*(1.8-depth*0.3);
      var spts=pts.map(function(pt){return new THREE.Vector3(pt.x+off,pt.y,pt.z);});
      var curve=new THREE.CatmullRomCurve3(spts,false,'catmullrom',0.5);
      var geo=new THREE.BufferGeometry().setFromPoints(curve.getPoints(30));
      var mat=new THREE.LineBasicMaterial({color:col,transparent:true,opacity:op*(1-p*0.18)});
      var line=new THREE.Line(geo,mat);
      treeGroup.add(line);
      branchLines.push({line:line,baseOpacity:op*(1-p*0.18),depth:depth,t:t});
    }
    // Leaf dots at tips
    if(depth>=maxD-1){
      var lg=new THREE.BufferGeometry();
      var la=new Float32Array([ex,ey,0]);
      lg.setAttribute('position',new THREE.BufferAttribute(la,3));
      var lm=new THREE.PointsMaterial({color:lerpc(CA,CW,rng()),size:2+rng()*4,transparent:true,opacity:0.3+rng()*0.35});
      treeGroup.add(new THREE.Points(lg,lm));
    }
    if(depth>=maxD)return;
    var nk=depth===0?1:depth<2?2:depth<5?2:(rng()<.6?2:1);
    var sp=depth<2?0.2:0.5+depth*0.07;
    for(var k=0;k<nk;k++){
      var fan=nk===1?0:(k/(nk-1)-.5)*sp*2;
      var ndx=ex-ox;var ndy=ey-oy;
      var nl2=Math.sqrt(ndx*ndx+ndy*ndy);ndx/=nl2;ndy/=nl2;
      ndx+=fan+(rng()-.5)*0.15;
      ndy+=(rng()-.5)*0.1+(depth<2?0.05:-0.04);
      var nl3=Math.sqrt(ndx*ndx+ndy*ndy);ndx/=nl3;ndy/=nl3;
      addBranch(ex,ey,ndx,ndy,len*(0.56+rng()*0.22),depth+1,maxD,w*(0.5+rng()*0.22));
    }
  }

  function buildTree(){
    while(treeGroup.children.length){
      var c=treeGroup.children[0];
      if(c.geometry)c.geometry.dispose();
      if(c.material)c.material.dispose();
      treeGroup.remove(c);
    }
    branchLines.length=0;
    rng=rngMk(42);
    addBranch(0,-H*0.42, 0,1, H*0.22, 0, 8, 0.95);
  }
  function positionTree(){
    treeGroup.position.x=0;
  }
  buildTree();positionTree();

  // ── ROOTS ──
  var rootsGroup=new THREE.Group();
  scene.add(rootsGroup);
  var activeRoots=[];
  var rng2=rngMk(99);

  function Root(wx,wy){
    this.segs=[];
    this.x=wx;this.y=wy;
    this.angle=-Math.PI/2+(Math.random()-0.5)*Math.PI*0.65;
    this.segLen=20+Math.random()*30;
    this.life=0;this.maxLife=3.5+Math.random()*3;
    this.growing=true;this.numSegs=0;this.maxSegs=6+Math.floor(Math.random()*7);
    this._push();
  }
  Root.prototype._push=function(){
    this.angle+=(Math.random()-0.5)*0.50;
    var grav=-Math.PI/2;
    this.angle+=(grav-this.angle)*0.30;
    var ex=this.x+Math.cos(this.angle)*this.segLen;
    var ey=this.y+Math.sin(this.angle)*this.segLen*0.62;
    var mx=(this.x+ex)/2+(Math.random()-.5)*this.segLen*0.5;
    var my=(this.y+ey)/2+(Math.random()-.5)*this.segLen*0.32;
    var pts=[new THREE.Vector3(this.x,this.y,0),new THREE.Vector3(mx,my,0),new THREE.Vector3(ex,ey,0)];
    var curve=new THREE.CatmullRomCurve3(pts);
    var allPts=curve.getPoints(20);
    var geo=new THREE.BufferGeometry().setFromPoints(allPts);
    var d=this.numSegs;
    var op=Math.max(0.07,0.62-d*0.07);
    var col=new THREE.Color().lerpColors(CT,CS,d*0.14);
    var mat=new THREE.LineBasicMaterial({color:col,transparent:true,opacity:0});
    var line=new THREE.Line(geo,mat);
    rootsGroup.add(line);
    this.segs.push({line:line,mat:mat,opBase:op,t:0,allPts:allPts});
    this.x=ex;this.y=ey;
    this.segLen*=0.76+Math.random()*0.16;
    this.numSegs++;
  };
  Root.prototype.update=function(dt){
    this.life+=dt;
    var fade=this.life>this.maxLife?Math.max(0,1-(this.life-this.maxLife)/1.5):1;
    var seg=this.segs[this.segs.length-1];
    if(seg.t<1){
      seg.t=Math.min(1,seg.t+dt*2.4);
      var n=Math.max(2,Math.round(seg.t*seg.allPts.length));
      seg.line.geometry.setFromPoints(seg.allPts.slice(0,n));
      seg.mat.opacity=seg.opBase*fade;
    } else if(this.growing&&this.numSegs<this.maxSegs){
      this._push();
    } else {this.growing=false;}
    for(var i=0;i<this.segs.length;i++)this.segs[i].mat.opacity=this.segs[i].opBase*fade;
    return fade>0.005;
  };
  Root.prototype.dispose=function(){
    for(var i=0;i<this.segs.length;i++){
      this.segs[i].line.geometry.dispose();this.segs[i].mat.dispose();
      rootsGroup.remove(this.segs[i].line);
    }
  };

  var lastSpawn=0,autoTimer=0;
  function trySpawn(cx,cy){
    var now=performance.now();
    if(now-lastSpawn<80)return;lastSpawn=now;
    var bx=treeGroup.position.x;
    var by=-H*0.42;
    var wx=(cx/W)*W-W/2;
    var sx=bx+(wx-bx)*0.35+(Math.random()-.5)*65;
    var sy=by+(Math.random()-.5)*20;
    activeRoots.push(new Root(sx,sy));
    if(activeRoots.length>70){activeRoots.splice(0,6).forEach(function(r){r.dispose();});}
  }
  document.addEventListener('mousemove',function(e){trySpawn(e.clientX,e.clientY);});
  document.addEventListener('touchmove',function(e){var t=e.touches[0];trySpawn(t.clientX,t.clientY);},{passive:true});

  // Particles
  var PC=55;
  var pGeo=new THREE.BufferGeometry();
  var pArr=new Float32Array(PC*3);
  var pV=[];
  var rng3=rngMk(7);
  for(var i=0;i<PC;i++){
    pArr[i*3]=(rng3()-.5)*W*0.9;pArr[i*3+1]=(rng3()-.5)*H*0.9;pArr[i*3+2]=0;
    pV.push({x:(rng3()-.5)*7,y:(rng3()-.5)*4.5-1.5});
  }
  pGeo.setAttribute('position',new THREE.BufferAttribute(pArr,3));
  var pMesh=new THREE.Points(pGeo,new THREE.PointsMaterial({color:CA,size:1.5,transparent:true,opacity:.11}));
  scene.add(pMesh);

  var prev2=performance.now(),tick2=0;
  function animate(){
    requestAnimationFrame(animate);
    var now=performance.now();var dt=Math.min((now-prev2)/1000,0.05);prev2=now;tick2+=dt;
    autoTimer+=dt;
    if(autoTimer>1.2+Math.random()*0.9){
      autoTimer=0;
      trySpawn(treeGroup.position.x+W/2+(Math.random()-.5)*100,H-((-H*0.42)+H/2)+(Math.random()-.5)*30);
    }
    for(var i=0;i<branchLines.length;i++){
      var b=branchLines[i];
      var wave=Math.sin(tick2*0.5+i*0.35+b.depth*0.8)*0.04*(1-b.t);
      b.line.material.opacity=Math.max(0,b.baseOpacity+wave);
    }
    for(var j=activeRoots.length-1;j>=0;j--){
      if(!activeRoots[j].update(dt)){activeRoots[j].dispose();activeRoots.splice(j,1);}
    }
    var pa=pGeo.attributes.position.array;
    for(var k=0;k<PC;k++){
      pa[k*3]+=pV[k].x*dt;pa[k*3+1]+=pV[k].y*dt;
      if(pa[k*3+1]<-H/2-20){pa[k*3+1]=H/2+10;pa[k*3]=(rng3()-.5)*W*0.9;}
      if(Math.abs(pa[k*3])>W/2+20)pa[k*3]*=-0.95;
    }
    pGeo.attributes.position.needsUpdate=true;
    pMesh.material.opacity=0.05+Math.sin(tick2*0.35)*0.05;
    renderer.render(scene,camera);
  }
  animate();
})();
</script>
</body>
</html>